# フルーリオ幾何学 残タスク総覧（Phase G-Backlog）

バージョン: 1.0
対象: 実装全体の俯瞰に基づく FG 重要残タスクの設計
関連: design/10.md, design/11.md, papers/m点幾何学1-7.md, papers/代数学.md

## 0. 現状サマリ（俯瞰）
- コア/API: FGData・ScaleAction・MPointCalibration・FGTheorems は配置済（定義/Prop レベル）。
  - `Frourio/Geometry/FGCore.lean:1`
  - `Frourio/Geometry/FGTheorems.lean:1`
  - `Frourio/Geometry/MPointCalibration.lean:1`
  - `Frourio/Geometry/FGInterop.lean:1`
- 解析層: EVI/Doob は API スケルトン、Mosco は True スタブ。
  - `Frourio/Analysis/EVI.lean:1`
  - `Frourio/Analysis/DoobTransform.lean:1`
- 証明の優先5件は design/11.md に記載（未実証）。

## 1. 重要残タスク（領域別）

- EVI（勾配流・収縮・同期）
  - P0: Dini 上側微分の補題（加法境界・合成評価）を追加し、`eviContraction` を theorem 化。
  - P0: `eviSumWithError` の具体化（`MixedErrorBound` に誤差項・測地の依存を型で表現）。
  - P1: `IsEVISolutionNonneg` 周辺のラッパ整備（`Rge0` の補題追加）。
  - P1: Grönwall 補題の最小実装（実変数関数用）。

- スケール作用（等長/相似）
  - P0: `evi_scale_rule` を二分定理（isometry/similarity）として定式化・証明。
  - P1: `effectiveLambda` まわりの補題（`k` の加法/指数法則、`Λ>1` 仮定の取り回し）。
  - P1: 時間再標定ヘルパ（等長ケース）と API サンプル。

- Doob 変換（Γ・Γ₂・CD）
  - P0: `DoobAssumptions` 拡張（`∀ x, 0 < h x`、Leibniz/Bochner 最小形）と `doob_gamma_eq`/`doob_gamma2_eq` の定理化。
  - P0: `cd_parameter_shift` を不等式結論まで具体化（λ の劣化/保存）。
  - P1: 測度変換 `μ_h` との関係（準不変の扱い）を述語化。

- Mosco 継承（可変ヒルベルト）
  - P0: `MoscoTight/M1/M2` を非自明化し、`eviInheritance` を theorem 化。
  - P1: JKO 近似の最小骨子（存在・相対緊性）を Prop 化。

- m 点校正（解析アンカー・Mellin 連動）
  - P0: `phi_m` を有限線形結合の具体定義に置換（2点記号の総和・位相付き）。
  - P1: `D_{Φ,Λ}^{(m)}` の署名追加と H_σ 間の作用素ノルム上界（等号は後続）。
  - P1: 零点集合・Bohr ほぼ周期の述語を強化（特殊ケースの補題）。
  - 参照: `Frourio/Analysis/MellinTransform.lean:1`

- 量子/離散 FG（EVI/スケールの十分条件）
  - P1: 量子系の `ScaleAction` 十分条件（ユニタリ共役/GNS 対称）と EVI 維持のステートメント化。
  - P1: 離散（Erbar–Maas）での重みスケールと行動量不変の述語整備、EVI 維持のステートメント化。
  - P2: 専用モジュール雛形の追加（`Frourio/Geometry/FGQuantum.lean`, `FGDiscrete.lean`）。

- Young/Dirac の強化
  - P2: Young 剛性の測度版証明のスケッチ配置（TV ノルム・等号条件の実装下地）。
  - P2: Dirac 指数の境界補正（APS/Toeplitz）のステートメント追加。

- 例・検証・文書化
  - P1: 代表例（R+ 乗法、ログ距離、Haar 測度）での FG データ/スケール作用の具体化。
  - P1: `Frourio.lean:1` 経由の import だけでビルドが通ることの確認（CI 設計）。
  - P1: モジュール先頭に対応論文節を明記（既存も含め点検）。

## 2. デリバラブル（短期 2–3 週）
- D1: EVI 収縮（定理）＋同期（誤差付き）… P0
- D2: スケール則 2 分定理（isometry/similarity）… P0
- D3: Doob(Γ/Γ₂/λ) の定理化 … P0
- D4: Mosco 継承の theorem 化 … P0
- D5: `phi_m` の具体定義と基礎補題 … P0–P1

## 3. 受入基準（各 D）
- 定理は `theorem` として実装し、`Frourio.lean:1` から到達可能。
- 新規述語は `True` スタブを脱却（最低1件の非自明フィールド）。
- 既存 API 非破壊、`sorry`/`axiom` 非使用。
- モジュール Docstring に 3–5 行の証明方針を追記。

## 4. リスクと対策
- 解析補題の重さ: 汎用版が重くなりがち → 最小仮定（AC 曲線/リプシッツ）から導入、後続で一般化。
- Doob の滑らかさ仮定: `class DoobAssumptions` で切り出し、例ベースで段階導入。
- Mosco のトポロジー選定: 具体例固定で first pass、一般化は次期以降。

## 5. マイルストーン
- M1 (週1): D1 完了
- M2 (週1–2): D2 + D3 完了
- M3 (週2–3): D4 + D5 完了

